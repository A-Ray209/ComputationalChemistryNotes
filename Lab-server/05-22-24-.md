### 1. 定义三新个命令

#### 1.1 查看 Gaussian 任务
```
alias tkf='grep Normal *.log'                                                          # 查看是否正常结束
alias tkd='for i in *.log; do echo "$i: $(grep -c 'Done' "$i") steps"; done'           # 查看循环步数
alias tksm='for i in *.log; do echo -e "\n$i:\n$(tsmonitor "$i" | tail -n 5)\n"; done' # 查看循环过程是否收敛，是否正常结束
```
最后一个 tksm 命令比 tkd 更加详细，但需要钟老师脚本 tsmonitor 作为环境变量


#### 1.2 查看 Orca 任务

```
alias tkof='grep NORMALLY $(find . -name "*.out" ! -name "slurm-*")'      # 查看是否正常结束
```

### 2. TSCT 计算 跃迁密度 和 空穴电子重叠

1. 注册计算化学公社账户

2. 下载钟老师帖子脚本（文末），地址> http://bbs.keinsci.com/forum.php?mod=viewthread&tid=18597&highlight=tsct

3. 把脚本加入ztools路径（环境变量）当中，并用chmod+x增加可执行权限

4.找到给体，受体，以及桥连基团片段的编号，可以参考这个视频利用gview方便地提取选定区域的原子序号。

5.在激发态计算的fchk和log文件的目录下输入


```
tstb -m td -n 1 -g 3 -b 7-9,17-24 XXX.fchk XXX.log

-m    选项选分析方法，默认的是td（基于跃迁密度的分析），还可以选he（基于空穴电子重叠的分析），ifct（基于片段间电荷转移的分析）
-n     选激发态的序号，默认是1
-g     选Multiwfn产生cube时用的格点，默认是3
-b     设定桥连片段的原子编号（这个没有默认，必须设）
-d     设定给体片段的原子编号（只有用ifct方法时才设）
-a     设定受体片段的原子编号（只有用ifct方法时才需要设）
```
以 8pydmb_tdopt 为例，计算结果为
```

tstb -m td -n 1 -g 3 -b 6,8-9,14,17,22,31,34-37,51-56,85-88  8pydmb_tdopt.fchk 8pydmb_tdopt.log

 TS/TB using transition density:
Through Space CT: 0.21236    97.23%
Through Bond  CT: 0.00604    2.76%

tstb -m he -n 1 -g 3 -b 6,8-9,14,17,22,31,34-37,51-56,85-88  8pydmb_tdopt.fchk 8pydmb_tdopt.log

TS/TB using hole-electron overlap:
Through Space CT: 0.14956    97.23%
Through Bond  CT: 0.00426    2.76%
Tot h-e  overlap: 0.15382

```




